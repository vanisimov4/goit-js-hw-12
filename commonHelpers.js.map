{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport default async function getPhotosByText(searchText) {\n  const response = await axios.get('https://pixabay.com/api/', {\n    params: {\n      key: '42434197-39cd5bed035ab257afa598fe1',\n      q: encodeURIComponent(`${searchText}`),\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  });\n  return response.data;\n}\n","function templatePhoto(photo) {\n  return `<li class='gallery-item'>\n  <a class='gallery-link' href='${photo.largeImageURL}'>\n    <img\n      class='gallery-image'\n      src='${photo.webformatURL}'\n      alt='${photo.tags}'\n    />\n  </a>\n    <ul class=\"gallery-item-info\">\n    <li class='gallery-item-info-categories'> \n            <div class='gallery-item-info-likes'>\n                    <h3 class=\"gallery-item-info-title\">Likes</h3>\n                <p class=\"gallery-item-info-text\">${photo.likes}</p>\n                </div>\n    </li>\n    <li class='gallery-item-info-categories'> \n            <div class='gallery-item-info-views'>\n                    <h3 class=\"gallery-item-info-title\">Views</h3>\n                <p class=\"gallery-item-info-text\">${photo.views}</p>\n                  </div>\n    </li>\n    <li class='gallery-item-info-categories'> \n            <div class='gallery-item-info-comments'>\n                    <h3 class=\"gallery-item-info-title\">Comments</h3>\n                <p class=\"gallery-item-info-text\">${photo.comments}</p>\n                 </div>\n    </li>\n    <li class='gallery-item-info-categories'> \n            <div class='gallery-item-info-downloads'>\n                    <h3 class=\"gallery-item-info-title\">Downloads</h3>\n                <p class=\"gallery-item-info-text\">${photo.downloads}</p>\n                 </div>\n    </li>\n    </ul>  \n</li>`;\n}\n\nexport default function templatePhotos(photos) {\n  console.log(photos);\n  return photos.map(templatePhoto).join('');\n}\n","import getPhotosByText from './js/pixabay-api';\nimport templatePhotos from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nconst listImages = document.querySelector('ul.gallery');\n\nform.addEventListener('submit', handleFormSubmit);\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  const searchText = form.elements.text.value.trim();\n\n  if (searchText === '') {\n    return;\n  }\n\n  listImages.innerHTML = '';\n  loader.classList.add('is-visible');\n\n  getPhotosByText(searchText)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          messageColor: 'white',\n          color: '#EF4040',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      renderPhotos(data.hits);\n      loader.classList.remove('is-visible');\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.error(error);\n    });\n\n  form.reset();\n}\n\nfunction renderPhotos(objPhotos) {\n  const markup = templatePhotos(objPhotos);\n  listImages.insertAdjacentHTML('afterbegin', markup);\n}\n\nvar lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["getPhotosByText","searchText","axios","templatePhoto","photo","templatePhotos","photos","form","loader","listImages","handleFormSubmit","event","data","iziToast","renderPhotos","lightbox","error","objPhotos","markup","SimpleLightbox"],"mappings":"owBAEe,eAAeA,EAAgBC,EAAY,CAUxD,OATiB,MAAMC,EAAM,IAAI,2BAA4B,CAC3D,OAAQ,CACN,IAAK,qCACL,EAAG,mBAAmB,GAAGD,CAAU,EAAE,EACrC,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,GACe,IAClB,CCbA,SAASE,EAAcC,EAAO,CAC5B,MAAO;AAAA,kCACyBA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGxCA,EAAM,YAAY;AAAA,aAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAO6BA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAMXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAMXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAMdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,MAKnE,CAEe,SAASC,EAAeC,EAAQ,CAC7C,eAAQ,IAAIA,CAAM,EACXA,EAAO,IAAIH,CAAa,EAAE,KAAK,EAAE,CAC1C,CCjCA,MAAMI,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAa,SAAS,cAAc,YAAY,EAEtDF,EAAK,iBAAiB,SAAUG,CAAgB,EAEhD,SAASA,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMV,EAAaM,EAAK,SAAS,KAAK,MAAM,OAExCN,IAAe,KAInBQ,EAAW,UAAY,GACvBD,EAAO,UAAU,IAAI,YAAY,EAEjCR,EAAgBC,CAAU,EACvB,KAAKW,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,aAAc,QACd,MAAO,UACP,SAAU,WACV,QACE,0EACZ,CAAS,EAEHC,EAAaF,EAAK,IAAI,EACtBJ,EAAO,UAAU,OAAO,YAAY,EACpCO,EAAS,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,MAAMA,CAAK,CACzB,CAAK,EAEHT,EAAK,MAAK,EACZ,CAEA,SAASO,EAAaG,EAAW,CAC/B,MAAMC,EAASb,EAAeY,CAAS,EACvCR,EAAW,mBAAmB,aAAcS,CAAM,CACpD,CAEA,IAAIH,EAAW,IAAII,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC"}